<script context="module">
	export async function load() {
		const projects = import.meta.globEager('../projects/*.md');
		const projectList = Object.values(projects);
		const projectMeta = projectList?.map((p) => {
			return p?.metadata;
		});
		console.log('metadata', projectMeta);
		return {
			props: {
				metaData: projectMeta
			}
		};
	}
</script>

<script lang="ts">
	/* import { TEST } from '$lib/Env'; */
	/* <p>Testing... : {TEST}</p> */
	/* export let metaData; */
	export let metaData: any;
	import { theme } from '$stores/themeStore';
	import ProjectCard from '$components/ProjectCard/ProjectCard.svelte';
</script>

<section>
	<div class="titleWrapper">
		<h1>Hi. I'm Jon. Fullstack Developer...</h1>
		<blockquote>
			<p class="quote">A Foolish Consistency Is the Hobgoblin of Little Minds</p>
			{#if $theme === 'DARK'}
				<div class="quoteFooter">- Ralph Waldo Emerson</div>
			{:else}
				<div class="quoteFooter light">- Ralph Walso Emerson</div>
			{/if}
		</blockquote>
	</div>
	<div class="line" />
	<div class="blobWrapper">
		<h2>Ponderings and expertise; With Love!</h2>
		<div class="blob" />
	</div>
</section>

<ProjectCard {metaData} />

<style>
	section {
		padding: var(--containerPadding);
		display: grid;
		grid-template-columns: minmax(0, 1fr) 3px minmax(50vmin, 1fr);
		grid-template-areas: 'title line blob';
		margin-bottom: 200px;
	}
	.titleWrapper {
		grid-area: 'title';
		place-self: center;
		justify-self: center;
		width: 60%;
	}

	h1 {
		background: linear-gradient(271deg, var(--hotpink) 50%, var(--aqua) 70%, #a162e8 94%);
		background-clip: border-box;
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
	}

	.quote {
		quotes: '\201C''\201D''\2018''\2019';
	}

	.quote:before {
		content: open-quote;
		display: inline;
		height: 0;
		line-height: 0;
		left: -10px;
		position: relative;
		top: 20px;
		color: var(--hotpink);
		font-size: 3em;
	}

	.quote::after {
		content: close-quote;
		display: inline;
		height: 0;
		line-height: 0;
		left: 10px;
		position: relative;
		top: 25px;
		color: var(--aqua);
		font-size: 3em;
	}

	.quoteFooter {
		margin: 0;
		text-align: right;
		font-style: italic;
		font-family: var(--slantText);
		/* color: var(--footerTextColor); */
		padding: 0;
		text-align: center;
		background: linear-gradient(to bottom left, #7a00cc, #ff1a75);
		background-clip: border-box;
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		font-size: 1.3rem;
	}

	.light {
		-webkit-text-fill-color: unset;
	}

	.line {
		width: 3px;
		height: 100%;
		background: var(--hotpink);
	}

	h2 {
		position: absolute;
		top: 115px;
		left: -56px;
		z-index: 1;
	}

	.blobWrapper {
		width: 50vmin;
		height: 50vmin;
		grid-area: 'blob';
		position: relative;
		place-self: end;
	}

	.blob {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: var(--aqua);
		background-image: none;
		background-image: linear-gradient(45deg, #a162e8 15%, var(--aqua) 80%);
		border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
		box-shadow: -10vmin 10vmin 0 rgba(255, 255, 255, 0.07);
	}
</style>
